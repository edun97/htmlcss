<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jornal Tech - noticias</title>
  <style>
    :root { --radius: 16px; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, sans-serif; background: #0f172a; color: #e2e8f0; margin: 0; padding: 32px; }
    .card { max-width: 680px; margin: 0 auto; background: #111827; border: 1px solid #1f2937; border-radius: var(--radius); box-shadow: 0 10px 30px rgba(0,0,0,.25); overflow: hidden; }
    header { padding: 20px 24px; background: linear-gradient(135deg, #1f2937, #0b1220); border-bottom: 1px solid #243041; }
    header h1 { margin: 0; font-size: 20px; letter-spacing: .2px; }
    header small { display: block; opacity: .7; margin-top: 4px; }
    ul { list-style: none; margin: 0; padding: 0; }
    li { border-bottom: 1px solid #1f2937; }
    li:last-child { border-bottom: 0; }
    a.news-link { display: block; padding: 16px 24px; text-decoration: none; color: #e5e7eb; transition: background .2s ease, transform .05s ease; }
    a.news-link:hover { background: #0b1220; }
    a.news-link:active { transform: translateY(1px); }
    .host { opacity: .7; font-size: 12px; }
    .title { display: block; font-weight: 600; margin-top: 4px; }
    footer { padding: 12px 24px 18px; display: flex; justify-content: space-between; align-items: center; gap: 16px; color: #9ca3af; font-size: 12px; }
    button { background: #1f2937; color: #e5e7eb; border: 1px solid #374151; border-radius: 999px; padding: 8px 12px; cursor: pointer; }
    button:hover { background: #111827; }
    .muted { opacity: .7; }
  </style>
</head>
<body>
  <div class="card">
    <header>
      <h1>Notícias de hoje</h1>
      <small class="muted">5 links rotacionados automaticamente todos os dias (fuso horário local do visitante).</small>
    </header>

    <ul id="news-list">
      <!-- JS insere 5 <li> aqui -->
    </ul>

    <footer>
      <span id="stamp" class="muted">Atualiza diariamente à meia-noite.</span>
      <button id="refreshBtn" title="Forçar atualização agora">Atualizar agora</button>
    </footer>
  </div>

  <script>
    // 1) Catálogo de links — edite/adicione conforme desejar
    // Dica: quanto maior a lista, mais variedade diária.
    const CATALOGO = [
      { title: 'G1 — Últimas notícias', url: 'https://g1.globo.com/' },
      { title: 'UOL — Notícias', url: 'https://noticias.uol.com.br/' },
      { title: 'Folha — Últimas', url: 'https://www1.folha.uol.com.br/ultimas-noticias/' },
      { title: 'Estadão — Últimas', url: 'https://www.estadao.com.br/ultimas/' },
      { title: 'CNN Brasil — Ao vivo', url: 'https://www.cnnbrasil.com.br/ao-vivo/' },
      { title: 'BBC Brasil', url: 'https://www.bbc.com/portuguese' },
      { title: 'O Globo — Últimas', url: 'https://oglobo.globo.com/ultimas-noticias/' },
      { title: 'Nexo Jornal', url: 'https://www.nexojornal.com.br/' },
      { title: 'Valor Econômico — Últimas', url: 'https://valor.globo.com/ultimas-noticias/' },
      { title: 'TechTudo — Tecnologia', url: 'https://www.techtudo.com.br/ultimas-noticias/' },
      { title: 'Canaltech — Tech', url: 'https://canaltech.com.br/ultimas/' },
      { title: 'Gizmodo Brasil', url: 'https://gizmodo.uol.com.br/' },
      { title: 'The Verge (EN)', url: 'https://www.theverge.com/' },
      { title: 'Reuters (EN) — World', url: 'https://www.reuters.com/world/' },
      { title: 'AP News (EN)', url: 'https://apnews.com/' }
    ];

    // 2) Gera a seleção diária determinística baseado na data local
    function seedForToday() {
      const now = new Date();
      return Math.floor(now.setHours(0,0,0,0) / 86400000); // dias desde 1970 (à meia-noite local)
    }

    function pickDailyLinks(qtd = 5) {
      const seed = seedForToday();
      const links = [];
      if (CATALOGO.length === 0) return links;
      for (let i = 0; i < qtd; i++) {
        const idx = (seed + i * 3) % CATALOGO.length; // passo 3 para variar melhor
        links.push(CATALOGO[idx]);
      }
      return links;
    }

    // 3) Renderiza na página
    function hostFrom(url) {
      try { return new URL(url).host.replace('www.', ''); } catch { return ''; }
    }

    function render() {
      const list = document.getElementById('news-list');
      list.innerHTML = '';
      const items = pickDailyLinks(5);
      items.forEach(item => {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.className = 'news-link';
        a.href = item.url;
        a.target = '_blank';
        a.rel = 'noopener noreferrer';
        a.innerHTML = `<span class="host">${hostFrom(item.url)}</span><span class="title">${item.title}</span>`;
        li.appendChild(a);
        list.appendChild(li);
      });
      const d = new Date();
      document.getElementById('stamp').textContent = `Atualiza diariamente à meia-noite — hoje é ${d.toLocaleDateString()}`;
    }

    // 4) Agenda a atualização automática exatamente na próxima meia-noite
    function msAteProximaMeiaNoite() {
      const now = new Date();
      const next = new Date(now);
      next.setDate(now.getDate());
      next.setHours(24, 0, 0, 0); // próxima meia-noite local
      return next - now;
    }

    function agendarViradaDoDia() {
      const ms = msAteProximaMeiaNoite();
      setTimeout(() => {
        render();
        // após a primeira virada, atualiza a cada 24h
        setInterval(render, 24 * 60 * 60 * 1000);
      }, ms);
    }

    // Botão manual (útil para testar)
    document.getElementById('refreshBtn').addEventListener('click', render);

    // Inicializa
    render();
    agendarViradaDoDia();
  </script>
</body>
</html>